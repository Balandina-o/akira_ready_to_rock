(()=>{"use strict";var t,e={758:(t,e,i)=>{i.d(e,{L:()=>B});var s=i(128);const o=i.p+"99941997b3786859051b.png",n=i.p+"d58e7fad66a394608333.png",r=i.p+"28ea86e4731d199ff3a1.png",a=i.p+"03a6c0856b65c2e947cf.png",c=i.p+"361791e35f1804a5eae4.png",h=i.p+"ce57d5dda79572bef984.png",l=i.p+"546f6a3c50c5f6c6103e.png",d=i.p+"50f20bc8a257e1d7b367.ogg",p=i.p+"e1b953c52231a8da2661.ogg",u={Akira:new s.bEs(o),AkiraOfficialArt:new s.bEs(n),MenuBackground:new s.bEs(r),GameLogo:new s.bEs(a),StartGameBtn:new s.bEs(c),StartGameBtnHover:new s.bEs(h),LightningPoint:new s.bEs(l),PreviewMusic:new s.ABN(d),BackgroundMusic:new s.ABN(p)},g=new s.aHM;for(const t of Object.values(u))g.addResource(t);class f extends s.Agj{constructor(){super({name:"AkiraOfficialArt",pos:(0,s.t6s)(0,370),width:1,height:1})}onInitialize(){this.graphics.add(u.AkiraOfficialArt.toSprite()),this.actions.moveBy({offset:(0,s.t6s)(290,0),durationMs:300}),this.actions.moveBy({offset:(0,s.t6s)(100,0),durationMs:1e3}),this.actions.repeatForever((t=>{t.moveBy({offset:(0,s.t6s)(0,10),durationMs:500}),t.moveBy({offset:(0,s.t6s)(-5,0),durationMs:300}),t.moveBy({offset:(0,s.t6s)(0,-10),durationMs:500}),t.moveBy({offset:(0,s.t6s)(5,0),durationMs:500})})),this.on("pointerdown",(t=>{console.log("You clicked the actor @",t.worldPos.toString())}))}onPreUpdate(t,e){}onPostUpdate(t,e){}onPreCollisionResolve(t,e,i,s){}onPostCollisionResolve(t,e,i,s){}onCollisionStart(t,e,i,s){}onCollisionEnd(t,e,i,s){}}class w extends s.Agj{constructor(){super({name:"GameLogo",pos:(0,s.t6s)(720,0),width:50,height:50})}onInitialize(){this.graphics.add(u.GameLogo.toSprite()),this.actions.moveBy({offset:(0,s.t6s)(0,150),durationMs:300})}}class v extends s.Agj{constructor(){super({name:"MenuBackground",pos:(0,s.t6s)(600,400)})}onInitialize(){this.graphics.add(u.MenuBackground.toSprite())}}class m extends s.Agj{constructor(){super({name:"StartGameBtn",pos:(0,s.t6s)(1500,550),width:20,height:20})}onInitialize(){this.graphics.add(u.StartGameBtn.toSprite()),this.actions.moveBy({offset:(0,s.t6s)(-600,0),durationMs:300}),this.on("pointerenter",(t=>{this.graphics.add(u.StartGameBtnHover.toSprite())})),this.on("pointerleave",(t=>{this.graphics.add(u.StartGameBtn.toSprite())})),this.on("pointerdown",(t=>{u.PreviewMusic.stop(),B.goToScene("level")}))}}class b extends s.Z58{constructor(){super(...arguments),this.startGame=new s.NBt({x:0,y:0,z:2})}onInitialize(t){const e=new v,i=new f,s=new w,o=new m;this.add(e),this.add(i),this.add(s),this.add(o),this.add(this.startGame)}onPreLoad(t){}onActivate(t){u.PreviewMusic.loop=!0,u.PreviewMusic.play()}onDeactivate(t){}onPreUpdate(t,e){}onPostUpdate(t,e){}onPreDraw(t,e){}onPostDraw(t,e){}}class S extends s.Agj{constructor(t){super({pos:t,width:20,height:20}),this.on("exitviewport",(()=>this.kill()))}onInitialize(){this.graphics.add(u.LightningPoint.toSprite()),this.actions.moveBy({offset:(0,s.t6s)(0,1e3),durationMs:6e3}),this.on("pointerdown",(t=>{console.log("You clicked the actor @",t.worldPos.toString())}))}onPreUpdate(t,e){}onPostUpdate(t,e){}onPreCollisionResolve(t,e,i,s){}onPostCollisionResolve(t,e,i,s){}onCollisionStart(t,e,i,s){}onCollisionEnd(t,e,i,s){}}class k extends s.Agj{constructor(t){super({name:"UltraSuperGuitarist",width:20,height:20,pos:s.t6s(150,550)}),this.level=t,this.playing=!1,this.jumping=!1}onInitialize(){const t=s.FLG.fromImageSource({image:u.Akira,grid:{rows:8,columns:9,spriteWidth:25,spriteHeight:65}});this.startSprite=t.getSprite(1,0),this.leftAnimation=s.X55.fromSpriteSheet(t,[3,4,5,6,7],100),this.rightAnimation=s.X55.fromSpriteSheet(t,[3,4,5,6,7],100),this.graphics.add("left",this.leftAnimation),this.graphics.add("right",this.rightAnimation),this.graphics.add("start",this.startSprite),this.graphics.use("start")}isInputActive(t){return t.input.keyboard.isHeld(s.D$R.Space)||t.input.pointers.isDown(0)}onPreUpdate(t,e){this.vel.x=0}onCollisionStart(t,e){e.owner instanceof S&&(this.level.incrementScore(),e.owner.kill())}onPostUpdate(t){this.playing&&(t.input.keyboard.isHeld(s.D$R.Left)&&(this.vel.x=-150),t.input.keyboard.isHeld(s.D$R.Right)&&(this.vel.x=150))}start(){this.playing=!0}reset(){this.stop()}stop(){this.playing=!1,this.vel=s.t6s(0,0),this.acc=s.t6s(0,0)}}class y{constructor(t,e,i){this.level=t,this.random=e,this.timer=new s.M4G({interval:i,repeats:!0,action:()=>this.spawnLightnings()}),this.level.add(this.timer)}spawnLightnings(){const t=this.random.floating(0,3e3),e=new S(s.t6s(t,0));this.level.add(e)}start(){this.timer.start()}reset(){for(const t of this.level.actors)t instanceof S&&t.kill()}stop(){this.timer.stop();for(const t of this.level.actors)t instanceof S&&(t.vel=s.t6s(0,0))}}class P extends s.Z58{constructor(){super(...arguments),this.akira=new k(this),this.random=new s.o8N,this.lightningFactory=new y(this,this.random,600),this.score=0,this.best=0,this.scoreLabel=new s.JU7({text:"Score: 0",x:0,y:0,z:1,font:new s.KQV({size:20,color:s.Q1f.Black})})}showStartInstructions(){this.akira.start(),this.lightningFactory.start()}onInitialize(t){new k(this);const e=new S((0,s.t6s)(150,0));this.add(e),this.add(this.akira),this.add(this.scoreLabel),this.showStartInstructions()}incrementScore(){this.scoreLabel.text="Score: "+ ++this.score}onPreLoad(t){}onActivate(t){u.BackgroundMusic.loop=!0,u.BackgroundMusic.play()}onDeactivate(t){}onPreUpdate(t,e){}onPostUpdate(t,e){}onPreDraw(t,e){}onPostDraw(t,e){}}const B=new s.N$8({width:1200,height:760,backgroundColor:s.Q1f.fromHex("f6acfc"),displayMode:s.q5Z.Fixed,pixelArt:!0,scenes:{start:{scene:b},level:{scene:P,transitions:{in:new s.i_4({duration:500,direction:"in",color:s.Q1f.Black}),out:new s.i_4({duration:500,direction:"out",color:s.Q1f.Black})}}},physics:{solver:s.bAZ.Realistic,substep:5}});B.start("start",{loader:g,inTransition:new s.i_4({duration:800,direction:"in",color:s.Q1f.ExcaliburBlue})}).then((()=>{}))}},i={};function s(t){var o=i[t];if(void 0!==o)return o.exports;var n=i[t]={exports:{}};return e[t](n,n.exports,s),n.exports}s.m=e,t=[],s.O=(e,i,o,n)=>{if(!i){var r=1/0;for(l=0;l<t.length;l++){for(var[i,o,n]=t[l],a=!0,c=0;c<i.length;c++)(!1&n||r>=n)&&Object.keys(s.O).every((t=>s.O[t](i[c])))?i.splice(c--,1):(a=!1,n<r&&(r=n));if(a){t.splice(l--,1);var h=o();void 0!==h&&(e=h)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[i,o,n]},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var o=i.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=i[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t})(),(()=>{var t={792:0};s.O.j=e=>0===t[e];var e=(e,i)=>{var o,n,[r,a,c]=i,h=0;if(r.some((e=>0!==t[e]))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(c)var l=c(s)}for(e&&e(i);h<r.length;h++)n=r[h],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(l)},i=self.webpackChunkakira=self.webpackChunkakira||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var o=s.O(void 0,[128],(()=>s(758)));o=s.O(o)})();
//# sourceMappingURL=main.js.map