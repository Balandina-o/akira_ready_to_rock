(()=>{"use strict";var t,e={160:(t,e,i)=>{i.d(e,{L:()=>k});var o=i(128);const s=i.p+"99941997b3786859051b.png",n=i.p+"d58e7fad66a394608333.png",r=i.p+"28ea86e4731d199ff3a1.png",a=i.p+"03a6c0856b65c2e947cf.png",c=i.p+"361791e35f1804a5eae4.png",h=i.p+"ce57d5dda79572bef984.png",l=i.p+"546f6a3c50c5f6c6103e.png",d=i.p+"50f20bc8a257e1d7b367.ogg",p=i.p+"e1b953c52231a8da2661.ogg",g={Sword:new o.bEs(s),AkiraOfficialArt:new o.bEs(n),MenuBackground:new o.bEs(r,{wrapping:o.CbD.Mirror}),GameLogo:new o.bEs(a),StartGameBtn:new o.bEs(c),StartGameBtnHover:new o.bEs(h),LightningPoint:new o.bEs(l),PreviewMusic:new o.ABN(d),BackgroundMusic:new o.ABN(p)},u=new o.aHM;for(const t of Object.values(g))u.addResource(t);class f extends o.Agj{constructor(){super({name:"AkiraOfficialArt",pos:(0,o.t6s)(0,370),width:1,height:1})}onInitialize(){this.graphics.add(g.AkiraOfficialArt.toSprite()),this.actions.moveBy({offset:(0,o.t6s)(290,0),durationMs:300}),this.actions.moveBy({offset:(0,o.t6s)(100,0),durationMs:1e3}),this.actions.repeatForever((t=>{t.moveBy({offset:(0,o.t6s)(0,10),durationMs:500}),t.moveBy({offset:(0,o.t6s)(-5,0),durationMs:300}),t.moveBy({offset:(0,o.t6s)(0,-10),durationMs:500}),t.moveBy({offset:(0,o.t6s)(5,0),durationMs:500})})),this.on("pointerdown",(t=>{console.log("You clicked the actor @",t.worldPos.toString())}))}onPreUpdate(t,e){}onPostUpdate(t,e){}onPreCollisionResolve(t,e,i,o){}onPostCollisionResolve(t,e,i,o){}onCollisionStart(t,e,i,o){}onCollisionEnd(t,e,i,o){}}class v extends o.Agj{constructor(){super({name:"GameLogo",pos:(0,o.t6s)(720,0),width:50,height:50})}onInitialize(){this.graphics.add(g.GameLogo.toSprite()),this.actions.moveBy({offset:(0,o.t6s)(0,150),durationMs:300})}}class w extends o.Agj{constructor(){super({name:"MenuBackground",pos:(0,o.t6s)(600,300)})}onInitialize(){this.graphics.add(g.MenuBackground.toSprite()),this.actions.moveBy({offset:(0,o.t6s)(0,100),durationMs:300})}}class m extends o.Agj{constructor(){super({name:"StartGameBtn",pos:(0,o.t6s)(1500,550),width:20,height:20})}onInitialize(){this.graphics.add(g.StartGameBtn.toSprite()),this.actions.moveBy({offset:(0,o.t6s)(-600,0),durationMs:300}),this.on("pointerenter",(t=>{this.graphics.add(g.StartGameBtnHover.toSprite())})),this.on("pointerleave",(t=>{this.graphics.add(g.StartGameBtn.toSprite())})),this.on("pointerdown",(t=>{g.PreviewMusic.stop(),k.goToScene("level")}))}}class b extends o.Z58{constructor(){super(...arguments),this.startGame=new o.NBt({x:0,y:0,z:2})}onInitialize(t){const e=new w,i=new f,o=new v,s=new m;this.add(e),this.add(i),this.add(o),this.add(s),this.add(this.startGame)}onPreLoad(t){}onActivate(t){g.PreviewMusic.loop=!0,g.PreviewMusic.play()}onDeactivate(t){}onPreUpdate(t,e){}onPostUpdate(t,e){}onPreDraw(t,e){}onPostDraw(t,e){}}class S extends o.Agj{constructor(t){super({name:"Bird",width:100,height:100,pos:o.t6s(150,550)}),this.level=t,this.playing=!1,this.jumping=!1}onInitialize(){const t=o.FLG.fromImageSource({image:g.Sword,grid:{rows:8,columns:9,spriteWidth:25,spriteHeight:65}});this.startSprite=t.getSprite(1,0),this.leftAnimation=o.X55.fromSpriteSheet(t,[3,4,5,6,7],100),this.rightAnimation=o.X55.fromSpriteSheet(t,[3,4,5,6,7],100),this.graphics.add("left",this.leftAnimation),this.graphics.add("right",this.rightAnimation),this.graphics.add("start",this.startSprite),this.graphics.use("start")}isInputActive(t){return t.input.keyboard.isHeld(o.D$R.Space)||t.input.pointers.isDown(0)}onPreUpdate(t,e){this.vel.x=0}onPostUpdate(t){this.playing&&(t.input.keyboard.isHeld(o.D$R.Left)&&(console.log("1111111111111111"),this.vel.x=-150),t.input.keyboard.isHeld(o.D$R.Right)&&(console.log("2222222222"),this.vel.x=150))}start(){this.playing=!0}reset(){this.stop()}stop(){this.playing=!1,this.vel=o.t6s(0,0),this.acc=o.t6s(0,0)}}class y extends o.Agj{constructor(t){super({pos:t,width:100,height:100}),this.on("exitviewport",(()=>this.kill()))}onInitialize(){this.graphics.add(g.LightningPoint.toSprite()),this.actions.moveBy({offset:(0,o.t6s)(0,1e3),durationMs:6e3}),this.on("pointerdown",(t=>{console.log("You clicked the actor @",t.worldPos.toString())}))}onPreUpdate(t,e){}onPostUpdate(t,e){}onPreCollisionResolve(t,e,i,o){}onPostCollisionResolve(t,e,i,o){}onCollisionStart(t,e,i,o){}onCollisionEnd(t,e,i,o){}}class P{constructor(t,e,i){this.level=t,this.random=e,this.timer=new o.M4G({interval:i,repeats:!0,action:()=>this.spawnLightnings()}),this.level.add(this.timer)}spawnLightnings(){console.log("12312123");const t=this.random.floating(0,3e3),e=new y(o.t6s(t,0));this.level.add(e)}start(){this.timer.start()}reset(){for(const t of this.level.actors)t instanceof y&&t.kill()}stop(){this.timer.stop();for(const t of this.level.actors)t instanceof y&&(t.vel=o.t6s(0,0))}}class B extends o.Z58{constructor(){super(...arguments),this.akira=new S(this),this.random=new o.o8N,this.lightningFactory=new P(this,this.random,600)}showStartInstructions(){this.akira.start(),this.lightningFactory.start()}onInitialize(t){new S(this);const e=new y((0,o.t6s)(150,0));this.add(e),this.add(this.akira),this.showStartInstructions()}onPreLoad(t){}onActivate(t){g.BackgroundMusic.loop=!0,g.BackgroundMusic.play()}onDeactivate(t){}onPreUpdate(t,e){}onPostUpdate(t,e){}onPreDraw(t,e){}onPostDraw(t,e){}}const k=new o.N$8({width:1200,height:760,backgroundColor:o.Q1f.fromHex("f6acfc"),displayMode:o.q5Z.Fixed,pixelArt:!0,scenes:{start:{scene:b},level:{scene:B,transitions:{in:new o.i_4({duration:500,direction:"in",color:o.Q1f.Black}),out:new o.i_4({duration:500,direction:"out",color:o.Q1f.Black})}}},physics:{solver:o.bAZ.Realistic,substep:5}});k.start("start",{loader:u,inTransition:new o.i_4({duration:800,direction:"in",color:o.Q1f.ExcaliburBlue})}).then((()=>{}))}},i={};function o(t){var s=i[t];if(void 0!==s)return s.exports;var n=i[t]={exports:{}};return e[t](n,n.exports,o),n.exports}o.m=e,t=[],o.O=(e,i,s,n)=>{if(!i){var r=1/0;for(l=0;l<t.length;l++){for(var[i,s,n]=t[l],a=!0,c=0;c<i.length;c++)(!1&n||r>=n)&&Object.keys(o.O).every((t=>o.O[t](i[c])))?i.splice(c--,1):(a=!1,n<r&&(r=n));if(a){t.splice(l--,1);var h=s();void 0!==h&&(e=h)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[i,s,n]},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var s=i.length-1;s>-1&&(!t||!/^http(s?):/.test(t));)t=i[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{var t={792:0};o.O.j=e=>0===t[e];var e=(e,i)=>{var s,n,[r,a,c]=i,h=0;if(r.some((e=>0!==t[e]))){for(s in a)o.o(a,s)&&(o.m[s]=a[s]);if(c)var l=c(o)}for(e&&e(i);h<r.length;h++)n=r[h],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(l)},i=self.webpackChunkakira=self.webpackChunkakira||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var s=o.O(void 0,[128],(()=>o(160)));s=o.O(s)})();
//# sourceMappingURL=main.js.map